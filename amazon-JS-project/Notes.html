<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>

    /*
    Main Idea of J:
    1. Save the data
    2. Generate the HTML
    3. Make it interactive
    
    const products= [];
    Here we used variable prdodcuts to save the information about products and we are using objects to store various information about product such as image, description, rating etc.,
    */

    /* We initiated  a variable called productsHTML to combine html together and to put it on web page we are using DOM */

    /* When we click on add to cart button then that product should go to cart page for that we created cart.js in data folder
    
    How do we knw which product to add?
     
    Data attribte:
    -is just anoother HTML attribute
    - allows us to attach any information to an element
Syntax:
      In Html after giving class use "data-anyname="${productname}""  
  Syntax rules for data attribute:
  - its just an HTML attribute
  - data attribute should start with data- and name on left and value on right -- see syntax above
    
    */

    /* dataset property gives us all the data attributes attached to the button*/

    /* Here we pushed into cart variable in cart.js. Here we sucessfully added products into cart. But if we are clicking on the same add to cart button it showing quantty 1 insted of 2 for example: if we added basketfall into cart it shows quantity to 1 but agan if we added basket ball it again shows quantity 1 but in different array. To overcome this:
    Steps: 1. Check if the product is already in the cart
    2. If it is in the cart, increase the qunatity.
    3. It its not in the cart add it to the cart */

    /* Making cart button(on top right corner interactive):

    Steps:
     1. Calculate the quanity
     2. Put the quantity on the page.

     Cart is the array of objects(in out code), so to calcualte the quantity we have to loop through to the array and add the quantity together

      We learnt:
      1. Amazon project - started
      2. Set up and git
      3. Main idea of JS: Save the data
                          Generate the HTML
                          Make it interactive
      4. Created list of products
      5. Made the "Add to cart " button interactive
      6. Made the cart quantity interactive                      


    */

  Modules


  /*
    So we linked js to html in amazon.html like this:
        <script src="data/products.js"></script>
        <script src="scripts/amazon.js"></script>

    This is combining all the files togeher into 1 big file and run all the code. 

    But the BIG problem is naming conflicts: For example: in cart.js we have a variable called cart. This means we cant use cart variable in any other files. If declared, we will get a error saying 'cart' has already been declared. This is called Naming conflict: two variables with same name.

    How to solve this? Modules.

    cart -> cart.js
    cart -> amazon.js

    No conflicts

    Ho to create modules? 

    To create a module we just have to delete <script src="data/cart.js"></script>

    If we use a script tag:         <script src="data/cart.js"></script>:
    1. this run all the code inside cart.js
    2. this code create a cart variable
    3. this will cause a naming conflict.
    
    So by removing the script tag we no longer running the code i cart.js so we are no longer creating cart variable and no longer creating naming conflict.

    To create a module:
      1. Create a file and write our code nside that file
      2. Dont load the file with <script> tag
      By doing this any variables we create inside the file will be contained inside the file. So wont cause naming conflict. 

      Problem here:After removing <script src="data/cart.js"></script> we dont load cart variable which is inside  <script src="data/cart.js"></script> but we used in amazon.js so we will get an error saying cart doesnt exist. To solve this: continute below

      How to get a variable out of a file? 
      1. Add type="module" attribute
      2. Export
      3. Import

      type="module" is a html attribute which lets a file get variables out of other files. 
      ex:     <script type="module" src="scripts/amazon.js"></script>

      export: just include export before declaring variable
      ex: export const cart= []; in cart.js 

      import: import {cart} from '../data/cart.js'
      here cart is varaible and ../ to exit from scripts folder and then go to the file where cart is located

      1. We have to put all th imports at the top of the file
      2. We need to use live server inorder to work modules. Modules wont work if we open html file directly(like going to file and open .html file manually)

      Benifits of modules: 
        1. Avoids naming conflicts

       2. Renaming
       
       Now: 
        import {cart} from '../data/cart.js'
        const cart = [];

        This again causes naming conflict to overcome this: rename cart 

        import {cart as myCart} from '../data/cart.js'
        const cart = [];

        Modules has lot of feature to overcome naming conflicts

        3. No need to worry for ordering on files
        Module are better way to organise our code especially in better projects

        We should atleast link/connect/load one .js file to html using <script></script>. And that one .js file will import other files
        and this one file is called Entry Point. 

        If theres a lot of code inside a function then split it to a function call it in the function where the code is needed
        12:466:30 If not understood.

        Best Practice: Group related code together int its own file.
        Explanation: Earler the function addToCart is in amazon.js but it is handling the cart. So it is better to keep that function in cart.js. And we have to use modules for this to import and export. and updateCartQuantity() function handles updating the webpage rather than managing the cart so better to keep in amazon.js 

        Another syntax of modules:

        import * as cartModule from '../data/cart.js'
        
        cartModule.cart
        cartModule.addToCart('id');


        It imports everything from a file and groups it together inside as cartModule object.



        Cart option on right top:

          It uses a link element. Link element has feature called href.
          <a href="https://youtube.com">...</a>
          <a href="checkout.html">...</a>
          If we click on this lnk element it will redirect to another page which is specified on href.

  */

  /*

  checkout.js page:

  Main Idea of JS:
  1. Save the data: 
  2. Generate the HTML
  3. Make it interactive


  Normalizing the data, a commontechnique in software field

  */


  

  /* 
  import {formatCurrency} from './utils/money.js';
        Here, single dot means, current folder
  
  */

  /* 
          Problem: After generating HTML in JS, we faced a problem: If we selects delevert date for prodct 1 then automatically it was unchecking the delivery date for prouct 2. Here, it only ables to select delivery date for only one product.

          Solution: Radio selector: <input type="radio" name="name1">
            If a set of radio selectors have the same name then we can only select only one of them.
            same name = we can only select one of them.
            Example: In the choose a delivery option: we have dayes and days, uesday, wednesday and monday. If these theree has same name, then we can only choose one option.

            // For tues, wed ad monday for product 1
            <input type="radio" name = "name1">
            <input type="radio" name = "name1">
            <input type="radio" name = "name1">

            So if product 1 has differnt radio selector name  and product2 has different radio selector name then it will work

            // For tues, wed ad monday for product 2
            <input type="radio" name = "name2">
            <input type="radio" name = "name2">
            <input type="radio" name = "name2">
            So the soltin is giving product id. because of its uniqueness

  */

  /*
        Delete option in checkout page. If we click delete option, product should remove from the cart.
        How?
        Step-1. Remove the product from the Cart
        Step-2. Update the HTML
        Start: 
        First lets add event listeners and select all the delete options using document.queryselectorAll and loop through it and for each delete button we should add event listener.

        Again back to step-1:
          How do we know which product to remove?
            Just like add to cart we have to attach the product id using data attribute(data-anyname)
            Like this: 
            /*
            <button class="add-to-cart-button button-primary js-add-to-cart"
            data-product-id="${product.id}">
             Add to Cart
             */

          How do we remove the productId from the cart?
            To do this we have a create a functon inside cart.js because cart.js has the code related to cart page which help us to organize our code


          Step 2: Update the HTML
          How?
          Step-a: Use the DOM t get the element to remove
          Step-b: Use .remove() method


          How to know which element to delete?
            Solution: Add a special class which has product Id - js-cart-item-container-${matchingProduct.id}

            Now use dom to get this class


        






  */




  </script>
</body>
</html>